<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>图片墙</title>
	<link rel="stylesheet" type="text/css" href="home/css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="home/css/htmleaf-demo.css">
	<link rel="stylesheet" href="home/css/style.css">
</head>
<body>
	<div class="htmleaf-container">
		<header class="htmleaf-header">
		</header>
		<div class="htmleaf-content">
			<ul id="iconWall">
				<li>
			        <div class="img-3d">
			            <div class="img-front">
			                <img src="home/img/mxfund.png" alt="">
			            </div>
			        </div>
					<div class="maskName">
						<span>MXFund</span>
					</div>
			        <div class="mask">
			            <img src="home/img/heart.png" alt="">
			            <p>点赞 323.4万</p>
			            <a href="javascript:" onclick=onClicnButton("MXFund")>打开</a>
			        </div>
			    </li>
				<li>
			        <div class="img-3d">
			            <div class="img-front">
			                <img src="home/img/mxdesktopbook.png" alt="">
			            </div>
			        </div>
					<div class="maskName">
						<span>MX正能量</span>
					</div>
			        <div class="mask">
			            <img src="home/img/heart.png" alt="">
			            <p>点赞 323.4万</p>
			            <a href="javascript:" onclick=onClicnButton("MXDesktopBook")>打开</a>
			        </div>
			    </li>
			    <li id="btnRefresh">
			        <div class="iconRefresh"></div>
			        <span>换一批</span>
			    </li>
			</ul>
		</div>
	</div>
	
	<script type="text/javascript">
		window.onload = function () {
			var clickTimes = 1;

			//总列数
			var lineCount = 6;

			var btnRefresh = document.querySelector("#btnRefresh");
			var iconRefresh = document.querySelector(".iconRefresh")

			var img3DList = document.querySelectorAll(".img-3d");
			var len = img3DList.length;

			btnRefresh.onclick = function () {
			    iconRefresh.style.transition = ".3s linear";
			    iconRefresh.style.transform = "rotate("+360*clickTimes+"deg)";

			    for (var i = 0; i< len; i++){

			      var colNum = parseInt(i/lineCount);
			      var rowNum = i%lineCount;
			      var delayTime = (colNum+rowNum)*100;


			        img3DList[i].style.transition = ".3s "+delayTime+"ms linear";
			        img3DList[i].style.transform = "rotateY("+180*clickTimes+"deg)";
			     }

			    clickTimes++;
			}
		}

		function onClicnButton(btnName){
			onJsCall(btnName);
		}

		function onCppCall(msg){
			alert(msg);
		}
		
	</script>
</body>
</html>